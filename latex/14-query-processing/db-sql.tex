% ------------------------------------------------------ %
% ------------------------------------------------------ %
%                     Begin Preamble                     %
% ------------------------------------------------------ %
% ------------------------------------------------------ %

% \documentclass[a4paper]{article} % A4 Paper
\documentclass[10pt]{article} % Letter-size Paper

% ----------------
% General Packages
% ----------------

\usepackage[margin = 1in]{geometry} % Margin of 1 inch each
\usepackage[usenames,dvipsnames]{xcolor} % Extended Color (Must be declared before tikz)

% Times font 
\usepackage{mathptmx}

% Necessity packages
\usepackage{url, hyperref, amsmath, bm, listings, amssymb, amsthm, multicol, framed, mdframed, mathabx}

% Language
\usepackage[english]{babel}

% Listing style
\usepackage{enumitem}

% Tikz
\usepackage{graphicx,  pgfplots, tikz, tkz-euclide, calc, datatool, datapie, databar} 
\usetkzobj{all} % For tikz-euclide
\usetikzlibrary{snakes}

% ----------------
% Paragraph Set up
% ----------------
\usepackage{indentfirst}
\setlength{\parskip}{6pt} 
\setlength{\parindent}{20pt} 

% ----------------
% Listings Set up
% ----------------

\lstset{ %
language=SQL,                   % choose the language of the code
basicstyle=\ttfamily\small,
%basicstyle=\footnotesize,       % the size of the fonts that are used for the code
numbers=left,                   % where to put the line-numbers
numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
stepnumber=0,                   % the step between two line-numbers. If it is 1 each line will be numbered
numbersep=5pt,                  % how far the line-numbers are from the code
backgroundcolor=\color{white},  % choose the background color. You must add \usepackage{color}
commentstyle=\color{Aquamarine},
keywordstyle=\color{OrangeRed},
%basicstyle=\ttfamily\scriptsize,
showspaces=false,               % show spaces adding particular underscores
showstringspaces=false,         % underline spaces within strings
showtabs=false,                 % show tabs within strings adding particular underscores
%frame=single,           % adds a frame around the code
tabsize=2,          % sets default tabsize to 2 spaces
captionpos=b,           % sets the caption-position to bottom
breaklines=true,        % sets automatic line breaking
breakatwhitespace=false,    % sets if automatic breaks should only happen at whitespace
escapeinside={\%*}{*)},       % if you want to add a comment within your code
moredelim=**[is][\color{black}]{@}{@},
}

% ----------------
% New Commands
% ----------------

\newcommand{\encode}[1]{\left< #1 \right> }
\newcommand{\paren}[1]{\left( #1 \right) }
\newcommand{\setbrac}[1]{\left\{ #1 \right\} }
\newcommand{\brac}[1]{\left[ #1 \right]}

\newcommand{\ands}{\wedge}
\newcommand{\ors}{\vee}
\newcommand{\thens}{\to}
\newcommand{\iffs}{\leftrightarrow}
\newcommand{\nots}{\sim}
\newcommand{\fd}{\rightarrow}
\newcommand{\mvd}{\twoheadrightarrow}
\newcommand{\inter}{\cap}
\newcommand{\union}{\cup}
\newcommand{\select}{\sigma}
\newcommand{\diff}{-}
\newcommand{\project}{\pi}
\newcommand{\rename}{\rho}
\newcommand{\join}{\Join}
\newcommand{\Null}{\text{NULL}}

\title{Relational Algebra and SQL Code in \LaTeX}
\author{CS 145 Summer 2014}
\date{June 25, 2014}

% ------------------------------------------------------ %
% ------------------------------------------------------ %
%                     Begin Document
%
% ------------------------------------------------------ %
% ------------------------------------------------------ %


\begin{document}

\maketitle

Here is an example of how to use the template for your written part of the problem set. Just use the notation you used in your Coursera exercise. Don't forget to put the expression in math mode. (If you just copy the code you submitted on Coursera and paste it here, it should work!)

\[
((\project_{pizza} Once) \diff ( \project_{age}( \select_{example >=24} (Upon \join Time) ))) \union ((\project_{pepperoni} (Serves))\diff ((\select_{unlimit <> 30} (Once))))
\]

If you look at the \texttt{\textbackslash newcommand}'s in the preamble section of the \texttt{.tex} file, the redefinition of RA commands to the Greek symbols are pretty simple. Feel free to modify, take, or use any part of this document as you like.

We have also defined the parameter for the \texttt{lstlisting} environment which you can use to type up your SQL code with syntax highlighting. For example,

\begin{lstlisting}
drop view if exists newatschool2010

create view newatschool2010 as
select L1.school, L1.firstname
from law_teachers L1 
where L1.year = 2010
\end{lstlisting}

\end{document}